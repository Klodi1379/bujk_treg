{% extends 'base.html' %}
{% load static %}

{% block title %}Platforma Bujqësore - Lidhja Direkte me Fermerët{% endblock %}

{% block extrahead %}
<!-- Fonti Playfair Display për titujt kryesorë -->
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&display=swap" rel="stylesheet">
<!-- AOS library për animacionet në scroll -->
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<!-- Swiper për slider -->
<link rel="stylesheet" href="https://unpkg.com/swiper@8/swiper-bundle.min.css"/>
<script src="https://unpkg.com/swiper@8/swiper-bundle.min.js"></script>
{% endblock %}

{% block content %}
<!-- Variablat CSS globale -->
<style>
:root {
    --primary-color: #198754;
    --primary-light: rgba(25, 135, 84, 0.1);
    --primary-dark: #146c43;
    --primary-gradient: linear-gradient(135deg, #198754, #146c43);
    --accent-color: #ffc107;
    --text-dark: #212529;
    --text-muted: #6c757d;
    --font-heading: 'Playfair Display', serif;
    --transition-slow: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    --transition-fast: all 0.3s ease;
    --border-radius-sm: 8px;
    --border-radius-md: 12px;
    --border-radius-lg: 20px;
    --shadow-sm: 0 5px 15px rgba(0, 0, 0, 0.05);
    --shadow-md: 0 10px 25px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 20px 40px rgba(0, 0, 0, 0.1);
}

.font-heading { font-family: var(--font-heading); }
.reveal-item { opacity: 0; transition: opacity 1s ease; }
.reveal-item.is-visible { opacity: 1; }
</style>

<!-- Hero Section Transformuar -->
<section class="hero position-relative overflow-hidden">
    <!-- Background pattern -->
    <div class="hero-bg position-absolute w-100 h-100" style="background-image: url('data:image/svg+xml,%3Csvg width=\'60\' height=\'60\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cpath d=\'M0 0h20v20H0zm20 20h20v20H20zm20-20h20v20H40z\' fill=\'%23198754\' fill-opacity=\'.1\'/%3E%3C/svg%3E'); top: 0; left: 0; z-index: -1;"></div>

    <!-- Animated circles -->
    <div class="animated-circles position-absolute w-100 h-100" style="top: 0; left: 0; z-index: -1;">
        <div class="circle circle-1 position-absolute rounded-circle" style="width: 300px; height: 300px; top: -150px; right: -150px; background: radial-gradient(circle, rgba(25,135,84,0.2) 0%, rgba(25,135,84,0) 70%); animation: pulse 15s infinite alternate;"></div>
        <div class="circle circle-2 position-absolute rounded-circle" style="width: 200px; height: 200px; bottom: -100px; left: -100px; background: radial-gradient(circle, rgba(25,135,84,0.15) 0%, rgba(25,135,84,0) 70%); animation: pulse 12s infinite alternate-reverse;"></div>
    </div>

    <div class="container py-6" style="padding-top: 120px; padding-bottom: 120px;">
        <div class="row align-items-center">
            <div class="col-lg-6 mb-5 mb-lg-0" data-aos="fade-right" data-aos-duration="1000">
                <span class="badge text-white px-3 py-2 mb-3" style="background: var(--primary-gradient); border-radius: 30px;">
                    <i class="fas fa-leaf me-1"></i> E freskët nga ferma
                </span>
                <h1 class="display-3 fw-bold font-heading mb-4 lh-1" style="background: var(--primary-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                    Zbulo Shijen e Vërtetë të Natyrës
                </h1>
                <p class="lead mb-5 pe-lg-5 text-muted">Lidhje e drejtpërdrejtë me fermerët lokalë, produkte organike të garantuara dhe një eksperiencë e re blerje që mbështet bujqësinë shqiptare.</p>

                <div class="d-flex gap-3 flex-wrap flex-sm-nowrap">
                    {% if not user.is_authenticated %}
                        <a href="{% url 'farmer:register' %}" class="btn px-4 py-3 w-100 text-white position-relative overflow-hidden" style="background: var(--primary-gradient); border-radius: var(--border-radius-lg); box-shadow: var(--shadow-md);">
                            <span class="position-relative z-2">
                                <i class="fas fa-seedling me-2"></i> Bëhu Fermer
                            </span>
                            <div class="position-absolute top-0 start-0 w-100 h-100 z-1" style="background: rgba(255,255,255,0.1); transform: translateX(-100%); transition: transform 0.5s ease;"></div>
                        </a>
                        <a href="{% url 'product:list' %}" class="btn btn-outline-success px-4 py-3 w-100" style="border-radius: var(--border-radius-lg);">
                            <i class="fas fa-shopping-basket me-2"></i> Shfleto Produktet
                        </a>
                    {% else %}
                        <a href="{% url 'product:list' %}" class="btn px-4 py-3 w-100 text-white position-relative overflow-hidden" style="background: var(--primary-gradient); border-radius: var(--border-radius-lg); box-shadow: var(--shadow-md);">
                            <span class="position-relative z-2">
                                <i class="fas fa-shopping-basket me-2"></i> Shiko Katalogun
                            </span>
                            <div class="position-absolute top-0 start-0 w-100 h-100 z-1" style="background: rgba(255,255,255,0.1); transform: translateX(-100%); transition: transform 0.5s ease;"></div>
                        </a>
                    {% endif %}
                </div>

                <div class="mt-5 d-flex align-items-center">
                    <div class="d-flex">
                        <div class="rounded-circle border-2 border-white position-relative" style="width: 40px; height: 40px; margin-right: -15px; z-index: 3; background-image: url('{% static 'media/products/user1.jpg' %}'); background-size: cover;"></div>
                        <div class="rounded-circle border-2 border-white position-relative" style="width: 40px; height: 40px; margin-right: -15px; z-index: 2; background-image: url('{% static 'media/products/user2.jpg' %}'); background-size: cover;"></div>
                        <div class="rounded-circle border-2 border-white position-relative" style="width: 40px; height: 40px; margin-right: -15px; z-index: 1; background-image: url('{% static 'media/products/user3.jpg' %}'); background-size: cover;"></div>
                    </div>
                    <div class="ms-4">
                        <div class="d-flex align-items-center mb-1">
                            <div class="text-warning me-2">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                            <span class="fw-bold">4.9/5</span>
                        </div>
                        <p class="text-muted mb-0 small">nga 2,300+ klientë të kënaqur</p>
                    </div>
                </div>
            </div>

            <div class="col-lg-6 position-relative d-none d-lg-block" data-aos="fade-left" data-aos-duration="1000" data-aos-delay="200">
                <!-- Main hero image -->
                <div class="position-relative rounded-4 overflow-hidden shadow-lg" style="height: 500px;">
                    <img src="{% static 'media/products/farm-hero.jpg' %}" alt="Produkte të freskëta" class="w-100 h-100" style="object-fit: cover;">
                    <!-- Floating elements -->
                    <div class="position-absolute start-0 bottom-0 m-4 bg-white p-3 rounded-3 shadow-sm d-flex align-items-center" style="backdrop-filter: blur(10px); background-color: rgba(255,255,255,0.9);" data-aos="fade-up" data-aos-delay="600">
                        <div class="bg-success text-white rounded-circle p-2 me-3">
                            <i class="fas fa-truck"></i>
                        </div>
                        <div>
                            <p class="mb-0 small"><strong>Dërgesa falas</strong> për porositë mbi 3000L</p>
                        </div>
                    </div>

                    <div class="position-absolute end-0 top-0 m-4 bg-white p-3 rounded-3 shadow-sm" style="backdrop-filter: blur(10px); background-color: rgba(255,255,255,0.9);" data-aos="fade-left" data-aos-delay="800">
                        <div class="d-flex align-items-center">
                            <div class="bg-success rounded-circle p-2 d-flex align-items-center justify-content-center me-3" style="width: 45px; height: 45px;">
                                <img src="{% static 'media/products/organic-badge.svg' %}" alt="Certifikatë organike" class="w-100 h-100" style="object-fit: contain;">
                            </div>
                            <div>
                                <p class="mb-0 fw-bold">100% Organike</p>
                                <p class="mb-0 small text-muted">E certifikuar</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Wave separator -->
    <div class="position-absolute bottom-0 start-0 w-100">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 110" fill="none" preserveAspectRatio="none" class="w-100" style="height: 80px;">
            <path d="M0 30L48 35C96 40 192 50 288 52.2C384 54.3 480 48.7 576 56.8C672 65 768 87 864 91.8C960 96.7 1056 84.3 1152 72C1248 59.7 1344 47.3 1392 41.2L1440 35V110H1392C1344 110 1248 110 1152 110C1056 110 960 110 864 110C768 110 672 110 576 110C480 110 384 110 288 110C192 110 96 110 48 110H0V30Z" fill="white"/>
        </svg>
    </div>
</section>

<!-- Statistika Dinamike -->
<section class="stats py-5 overflow-hidden">
    <div class="container py-2">
        <div class="row g-4 justify-content-center">
            <div class="col-lg-3 col-md-6" data-aos="zoom-in" data-aos-delay="100">
                <div class="stat-card bg-white rounded-4 shadow-sm p-4 h-100 position-relative overflow-hidden">
                    <div class="position-absolute top-0 end-0 w-50 h-50 opacity-10" style="background: radial-gradient(circle, var(--primary-color) 0%, transparent 70%);"></div>
                    <div class="d-flex align-items-center">
                        <div class="stat-icon d-flex align-items-center justify-content-center rounded-circle me-3" style="width: 60px; height: 60px; background-color: var(--primary-light);">
                            <i class="fas fa-users fa-2x text-success"></i>
                        </div>
                        <div>
                            <h2 class="display-6 fw-bold mb-0 counter" data-target="250">0</h2>
                            <p class="text-muted mb-0">Fermerë Aktivë</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6" data-aos="zoom-in" data-aos-delay="200">
                <div class="stat-card bg-white rounded-4 shadow-sm p-4 h-100 position-relative overflow-hidden">
                    <div class="position-absolute top-0 end-0 w-50 h-50 opacity-10" style="background: radial-gradient(circle, var(--primary-color) 0%, transparent 70%);"></div>
                    <div class="d-flex align-items-center">
                        <div class="stat-icon d-flex align-items-center justify-content-center rounded-circle me-3" style="width: 60px; height: 60px; background-color: var(--primary-light);">
                            <i class="fas fa-apple-alt fa-2x text-success"></i>
                        </div>
                        <div>
                            <h2 class="display-6 fw-bold mb-0 counter" data-target="5000">0</h2>
                            <p class="text-muted mb-0">Produkte</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6" data-aos="zoom-in" data-aos-delay="300">
                <div class="stat-card bg-white rounded-4 shadow-sm p-4 h-100 position-relative overflow-hidden">
                    <div class="position-absolute top-0 end-0 w-50 h-50 opacity-10" style="background: radial-gradient(circle, var(--primary-color) 0%, transparent 70%);"></div>
                    <div class="d-flex align-items-center">
                        <div class="stat-icon d-flex align-items-center justify-content-center rounded-circle me-3" style="width: 60px; height: 60px; background-color: var(--primary-light);">
                            <i class="fas fa-map-marker-alt fa-2x text-success"></i>
                        </div>
                        <div>
                            <h2 class="display-6 fw-bold mb-0 counter" data-target="36">0</h2>
                            <p class="text-muted mb-0">Rrethe</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6" data-aos="zoom-in" data-aos-delay="400">
                <div class="stat-card bg-white rounded-4 shadow-sm p-4 h-100 position-relative overflow-hidden">
                    <div class="position-absolute top-0 end-0 w-50 h-50 opacity-10" style="background: radial-gradient(circle, var(--primary-color) 0%, transparent 70%);"></div>
                    <div class="d-flex align-items-center">
                        <div class="stat-icon d-flex align-items-center justify-content-center rounded-circle me-3" style="width: 60px; height: 60px; background-color: var(--primary-light);">
                            <i class="fas fa-shopping-basket fa-2x text-success"></i>
                        </div>
                        <div>
                            <h2 class="display-6 fw-bold mb-0 counter" data-target="12500">0</h2>
                            <p class="text-muted mb-0">Porosi të Suksesshme</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Features Section Kreativ -->
<section class="features py-5 overflow-hidden">
    <div class="container py-5">
        <div class="row mb-5">
            <div class="col-lg-6 mx-auto text-center" data-aos="fade-up">
                <span class="badge text-white px-3 py-2 mb-3" style="background: var(--primary-gradient); border-radius: 30px;">
                    <i class="fas fa-star me-1"></i> Përparësitë tona
                </span>
                <h2 class="display-4 fw-bold font-heading mb-3">Pse Të Zgjedhni Platformën Tonë?</h2>
                <p class="lead text-muted mx-auto">Një eksperiencë e re blerje që përmirëson jetën e fermerëve dhe konsumatorëve shqiptarë</p>
            </div>
        </div>

        <div class="row g-5">
            <div class="col-lg-4" data-aos="fade-up" data-aos-delay="100">
                <div class="feature-card h-100 position-relative bg-white shadow-sm rounded-4 p-1 overflow-hidden transform-hover">
                    <div class="position-absolute top-0 end-0 w-25 h-25" style="background: radial-gradient(circle, var(--primary-light) 0%, transparent 70%);"></div>
                    <div class="position-absolute bottom-0 start-0 w-25 h-25" style="background: radial-gradient(circle, var(--primary-light) 0%, transparent 70%);"></div>

                    <div class="card-body p-4">
                        <div class="feature-icon-wrapper mb-4 position-relative">
                            <div class="feature-icon-bg position-absolute rounded-circle" style="width: 70px; height: 70px; background-color: var(--primary-light); top: -5px; left: -5px;"></div>
                            <div class="position-relative rounded-circle bg-white d-flex align-items-center justify-content-center p-4 shadow-sm" style="width: 70px; height: 70px; z-index: 1;">
                                <i class="fas fa-handshake fa-2x text-success"></i>
                            </div>
                        </div>

                        <h3 class="fw-bold h4 mb-3">Lidhje Direkte me Fermerët</h3>
                        <p class="text-muted mb-0">Eliminoni ndërmjetësit dhe mbështesni direkt ekonominë rurale. Njihuni me prodhuesit dhe historinë pas ushqimit tuaj.</p>

                        <div class="feature-benefits mt-4">
                            <div class="d-flex align-items-center mb-2">
                                <i class="fas fa-check-circle text-success me-2"></i>
                                <span class="small">Çmime 20-30% më të ulëta</span>
                            </div>
                            <div class="d-flex align-items-center mb-2">
                                <i class="fas fa-check-circle text-success me-2"></i>
                                <span class="small">Mbështetje për fermerët vendas</span>
                            </div>
                            <div class="d-flex align-items-center">
                                <i class="fas fa-check-circle text-success me-2"></i>
                                <span class="small">Transparencë në origjinë</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4" data-aos="fade-up" data-aos-delay="200">
                <div class="feature-card h-100 position-relative bg-white shadow-sm rounded-4 p-1 overflow-hidden transform-hover">
                    <div class="position-absolute top-0 end-0 w-25 h-25" style="background: radial-gradient(circle, var(--primary-light) 0%, transparent 70%);"></div>
                    <div class="position-absolute bottom-0 start-0 w-25 h-25" style="background: radial-gradient(circle, var(--primary-light) 0%, transparent 70%);"></div>

                    <div class="card-body p-4">
                        <div class="feature-icon-wrapper mb-4 position-relative">
                            <div class="feature-icon-bg position-absolute rounded-circle" style="width: 70px; height: 70px; background-color: var(--primary-light); top: -5px; left: -5px;"></div>
                            <div class="position-relative rounded-circle bg-white d-flex align-items-center justify-content-center p-4 shadow-sm" style="width: 70px; height: 70px; z-index: 1;">
                                <i class="fas fa-leaf fa-2x text-success"></i>
                            </div>
                        </div>

                        <h3 class="fw-bold h4 mb-3">Produkte të Freskëta dhe Cilësore</h3>
                        <p class="text-muted mb-0">Çdo produkt korret në kohën optimale dhe dorëzohet shpejt te ju. Shijoni shijen e vërtetë të ushqimit të kultivuar me kujdes.</p>

                        <div class="feature-benefits mt-4">
                            <div class="d-flex align-items-center mb-2">
                                <i class="fas fa-check-circle text-success me-2"></i>
                                <span class="small">Korrja 24-48 orë para dorëzimit</span>
                            </div>
                            <div class="d-flex align-items-center mb-2">
                                <i class="fas fa-check-circle text-success me-2"></i>
                                <span class="small">Varietete tradicionale shqiptare</span>
                            </div>
                            <div class="d-flex align-items-center">
                                <i class="fas fa-check-circle text-success me-2"></i>
                                <span class="small">Pa pesticide të dëmshme</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4" data-aos="fade-up" data-aos-delay="300">
                <div class="feature-card h-100 position-relative bg-white shadow-sm rounded-4 p-1 overflow-hidden transform-hover">
                    <div class="position-absolute top-0 end-0 w-25 h-25" style="background: radial-gradient(circle, var(--primary-light) 0%, transparent 70%);"></div>
                    <div class="position-absolute bottom-0 start-0 w-25 h-25" style="background: radial-gradient(circle, var(--primary-light) 0%, transparent 70%);"></div>

                    <div class="card-body p-4">
                        <div class="feature-icon-wrapper mb-4 position-relative">
                            <div class="feature-icon-bg position-absolute rounded-circle" style="width: 70px; height: 70px; background-color: var(--primary-light); top: -5px; left: -5px;"></div>
                            <div class="position-relative rounded-circle bg-white d-flex align-items-center justify-content-center p-4 shadow-sm" style="width: 70px; height: 70px; z-index: 1;">
                                <i class="fas fa-truck fa-2x text-success"></i>
                            </div>
                        </div>

                        <h3 class="fw-bold h4 mb-3">Dërgesa e Sigurt dhe e Shpejtë</h3>
                        <p class="text-muted mb-0">Transporti i optimizuar siguron ruajtjen e freskinë dhe ushqyesve. Monitoroni porosinën tuaj në çdo hap të rrugës.</p>

                        <div class="feature-benefits mt-4">
                            <div class="d-flex align-items-center mb-2">
                                <i class="fas fa-check-circle text-success me-2"></i>
                                <span class="small">Dërgesa brenda 24 orëve</span>
                            </div>
                            <div class="d-flex align-items-center mb-2">
                                <i class="fas fa-check-circle text-success me-2"></i>
                                <span class="small">Paketim ekologjik</span>
                            </div>
                            <div class="d-flex align-items-center">
                                <i class="fas fa-check-circle text-success me-2"></i>
                                <span class="small">Gjurmim në kohë reale</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Latest Products Section Inovativ -->
<section class="latest-products py-5 bg-light position-relative overflow-hidden">
    <!-- Elementë dekorativë -->
    <div class="position-absolute" style="width: 300px; height: 300px; top: 0; right: 0; background: radial-gradient(circle, var(--primary-light) 0%, transparent 70%); z-index: 0;"></div>
    <div class="position-absolute" style="width: 200px; height: 200px; bottom: 10%; left: 5%; background: radial-gradient(circle, var(--primary-light) 0%, transparent 70%); z-index: 0;"></div>

    <div class="container py-5 position-relative">
        <div class="row mb-5">
            <div class="col-lg-6 mx-auto text-center" data-aos="fade-up">
                <span class="badge text-white px-3 py-2 mb-3" style="background: var(--primary-gradient); border-radius: 30px;">
                    <i class="fas fa-carrot me-1"></i> E freskët nga ferma
                </span>
                <h2 class="display-4 fw-bold font-heading mb-3">Produktet e Fundit</h2>
                <p class="lead text-muted mx-auto">Zbuloni produktet e sapo-shtuar nga fermerët tanë të besueshëm</p>
            </div>
        </div>

        <!-- Swiper slider për produktet -->
        <div class="swiper products-slider" data-aos="fade-up" data-aos-delay="200">
            <div class="swiper-wrapper pb-5">
                {% for product in latest_products %}
                <div class="swiper-slide">
                    <div class="product-card h-100 bg-white rounded-4 shadow-sm overflow-hidden">
                        <div class="product-image-wrapper position-relative">
                            {% if product.images.exists %}
                                <img src="{{ product.images.first.image.url }}" class="w-100" alt="{{ product.name }}" style="height: 240px; object-fit: cover; transition: var(--transition-slow);">
                            {% else %}
                                <img src="{% static 'images/product-placeholder.jpg' %}" class="w-100" alt="{{ product.name }}" style="height: 240px; object-fit: cover; transition: var(--transition-slow);">
                            {% endif %}

                            <!-- Overlay with quick actions -->
                            <div class="product-overlay position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center" style="background: rgba(0,0,0,0.5); opacity: 0; transition: var(--transition-fast);">
                                <a href="{% url 'product:detail' product.slug %}" class="btn btn-light btn-sm rounded-circle mx-1" data-bs-toggle="tooltip" title="Shiko Detajet">
                                    <i class="fas fa-eye"></i>
                                </a>
                                <a href="#" class="btn btn-light btn-sm rounded-circle mx-1" data-bs-toggle="tooltip" title="Shto në Shportë">
                                    <i class="fas fa-shopping-cart"></i>
                                </a>
                                <a href="#" class="btn btn-light btn-sm rounded-circle mx-1" data-bs-toggle="tooltip" title="Shto në Të Preferuarat">
                                    <i class="far fa-heart"></i>
                                </a>
                            </div>

                            <!-- Top corner badges -->
                            <div class="product-badges position-absolute top-0 start-0 p-3 d-flex flex-column gap-2">
                                <span class="badge bg-success rounded-pill px-3 py-2 shadow-sm mb-1">I ri</span>
                                {% if product.organic %}
                                <span class="badge bg-warning text-dark rounded-pill px-3 py-2 shadow-sm">Bio</span>
                                {% endif %}
                            </div>
                        </div>

                        <div class="product-info p-4">
                            <div class="d-flex justify-content-between align-items-start mb-2">
                                <div>
                                    <h5 class="mb-0 fw-bold">{{ product.name }}</h5>
                                    <div class="text-muted small">
                                        <i class="fas fa-map-marker-alt me-1"></i> {{ product.farmer.location }}
                                    </div>
                                </div>
                                <span class="price bg-success-subtle text-success fw-bold rounded-pill px-3 py-1">{{ product.price }} ALL</span>
                            </div>

                            <div class="d-flex align-items-center mb-3">
                                <i class="fas fa-user-circle me-2 text-muted"></i>
                                <span class="small text-muted">{{ product.farmer.name }}</span>
                            </div>

                            <p class="card-text text-muted mb-3 small">{{ product.description|truncatewords:15 }}</p>

                            <div class="d-flex justify-content-between align-items-center">
                                <span class="unit text-muted small">{{ product.get_unit_display }}</span>
                                <a href="{% url 'product:detail' product.slug %}" class="btn btn-outline-success btn-sm rounded-pill px-3">
                                    Shiko detajet
                                    <i class="fas fa-chevron-right ms-1"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                {% empty %}
                <div class="col-12 text-center py-5">
                    <div class="empty-state p-5 rounded-4 bg-white shadow-sm">
                        <img src="{% static 'images/empty-products.svg' %}" alt="Nuk ka produkte" class="img-fluid mb-4" style="max-width: 200px;">
                        <h4 class="mb-3">Nuk ka produkte të disponueshme</h4>
                        <p class="text-muted mb-4">Produktet e reja do të shfaqen këtu sapo të shtohen nga fermerët tanë.</p>
                        <a href="{% url 'farmer:register' %}" class="btn btn-outline-success rounded-pill px-4 py-2">
                            <i class="fas fa-plus-circle me-2"></i> Bëhu fermer dhe shto produktet e tua
                        </a>
                    </div>
                </div>
                {% endfor %}
            </div>

            <div class="swiper-pagination"></div>
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
        </div>

        {% if latest_products %}
        <div class="text-center mt-5" data-aos="fade-up" data-aos-delay="300">
            <a href="{% url 'product:list' %}" class="btn btn-outline-success btn-lg rounded-pill px-5 py-3">
                <i class="fas fa-th-large me-2"></i> Shiko të gjitha produktet
            </a>
        </div>
        {% endif %}
    </div>
</section>

<!-- How It Works Section me Anime -->
<section class="how-it-works py-5 position-relative overflow-hidden">
    <div class="container py-5">
        <div class="row mb-5">
            <div class="col-lg-6 mx-auto text-center" data-aos="fade-up">
                <span class="badge text-white px-3 py-2 mb-3" style="background: var(--primary-gradient); border-radius: 30px;">
                    <i class="fas fa-info-circle me-1"></i> Procesi ynë
                </span>
                <h2 class="display-4 fw-bold font-heading mb-3">Si Funksionon</h2>
                <p class="lead text-muted mx-auto">Katër hapa të thjeshtë për të filluar udhëtimin tuaj me produktet tona të freskëta</p>
            </div>
        </div>

        <div class="row justify-content-center position-relative">
            <!-- Timeline connector -->
            <div class="timeline-connector position-absolute start-50 translate-middle-x" style="height: 3px; top: 80px; width: 80%; background: var(--primary-gradient); z-index: 0; display: none;">
                <div class="timeline-progress" style="height: 100%; width: 0; background-color: var(--primary-color); transition: width 1s ease;"></div>
            </div>

            <!-- Timeline stages -->
            <div class="col-lg-3 col-md-6 mb-5 mb-lg-0" data-aos="fade-up" data-aos-delay="100">
                <div class="step-card text-center">
                    <div class="step-icon-wrapper position-relative mb-4 mx-auto">
                        <div class="step-icon-bg position-absolute rounded-circle" style="width: 100px; height: 100px; background-color: var(--primary-light); top: -5px; left: 50%; transform: translateX(-50%);"></div>
                        <div class="step-icon d-flex align-items-center justify-content-center mx-auto position-relative rounded-circle bg-white shadow-sm" style="width: 100px; height: 100px; z-index: 1; border: 3px solid var(--primary-color);">
                            <i class="fas fa-user-plus fa-3x text-success"></i>
                        </div>
                        <div class="step-number position-absolute bg-success text-white fw-bold rounded-circle d-flex align-items-center justify-content-center" style="width: 40px; height: 40px; top: 0; right: calc(50% - 60px); border: 3px solid white; z-index: 2;">1</div>
                    </div>
                    <h4 class="fw-bold mb-3">Regjistrohu</h4>
                    <p class="text-muted mb-0">Krijoni një llogari të re për të hyrë në platformë dhe për të zbuluar mundësitë e shumta</p>
                </div>
            </div>

            <div class="col-lg-3 col-md-6 mb-5 mb-lg-0" data-aos="fade-up" data-aos-delay="200">
                <div class="step-card text-center">
                    <div class="step-icon-wrapper position-relative mb-4 mx-auto">
                        <div class="step-icon-bg position-absolute rounded-circle" style="width: 100px; height: 100px; background-color: var(--primary-light); top: -5px; left: 50%; transform: translateX(-50%);"></div>
                        <div class="step-icon d-flex align-items-center justify-content-center mx-auto position-relative rounded-circle bg-white shadow-sm" style="width: 100px; height: 100px; z-index: 1; border: 3px solid var(--primary-color);">
                            <i class="fas fa-search fa-3x text-success"></i>
                        </div>
                        <div class="step-number position-absolute bg-success text-white fw-bold rounded-circle d-flex align-items-center justify-content-center" style="width: 40px; height: 40px; top: 0; right: calc(50% - 60px); border: 3px solid white; z-index: 2;">2</div>
                    </div>
                    <h4 class="fw-bold mb-3">Shfleto Produktet</h4>
                    <p class="text-muted mb-0">Eksploroni katalogun e gjerë të produkteve të freskëta e të larmishme nga fermerët tanë</p>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6 mb-5 mb-lg-0" data-aos="fade-up" data-aos-delay="300">
                <div class="step-card text-center">
                    <div class="step-icon-wrapper position-relative mb-4 mx-auto">
                        <div class="step-icon-bg position-absolute rounded-circle" style="width: 100px; height: 100px; background-color: var(--primary-light); top: -5px; left: 50%; transform: translateX(-50%);"></div>
                        <div class="step-icon d-flex align-items-center justify-content-center mx-auto position-relative rounded-circle bg-white shadow-sm" style="width: 100px; height: 100px; z-index: 1; border: 3px solid var(--primary-color);">
                            <i class="fas fa-shopping-cart fa-3x text-success"></i>
                        </div>
                        <div class="step-number position-absolute bg-success text-white fw-bold rounded-circle d-flex align-items-center justify-content-center" style="width: 40px; height: 40px; top: 0; right: calc(50% - 60px); border: 3px solid white; z-index: 2;">3</div>
                    </div>
                    <h4 class="fw-bold mb-3">Porosit dhe Paguaj</h4>
                    <p class="text-muted mb-0">Zgjidhni produktet tuaja të preferuara dhe kompletoni blerjen përmes sistemit tonë të sigurt</p>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6" data-aos="fade-up" data-aos-delay="400">
                <div class="step-card text-center">
                    <div class="step-icon-wrapper position-relative mb-4 mx-auto">
                        <div class="step-icon-bg position-absolute rounded-circle" style="width: 100px; height: 100px; background-color: var(--primary-light); top: -5px; left: 50%; transform: translateX(-50%);"></div>
                        <div class="step-icon d-flex align-items-center justify-content-center mx-auto position-relative rounded-circle bg-white shadow-sm" style="width: 100px; height: 100px; z-index: 1; border: 3px solid var(--primary-color);">
                            <i class="fas fa-box fa-3x text-success"></i>
                        </div>
                        <div class="step-number position-absolute bg-success text-white fw-bold rounded-circle d-flex align-items-center justify-content-center" style="width: 40px; height: 40px; top: 0; right: calc(50% - 60px); border: 3px solid white; z-index: 2;">4</div>
                    </div>
                    <h4 class="fw-bold mb-3">Merr Dërgesën</h4>
                    <p class="text-muted mb-0">Prisni produktet tuaja të freskëta të dërguara direkt në derën tuaj nga fermerët tonë</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Testimonials Section Advance -->
<section class="testimonials py-5 bg-light position-relative overflow-hidden">
    <div class="position-absolute" style="width: 400px; height: 400px; top: -200px; left: -200px; background: radial-gradient(circle, var(--primary-light) 0%, transparent 70%); z-index: 0;"></div>
    
    <div class="container py-5 position-relative">
        <div class="row mb-5">
            <div class="col-lg-6 mx-auto text-center" data-aos="fade-up">
                <span class="badge text-white px-3 py-2 mb-3" style="background: var(--primary-gradient); border-radius: 30px;">
                    <i class="fas fa-comment-dots me-1"></i> Dëshmitë
                </span>
                <h2 class="display-4 fw-bold font-heading mb-3">Çfarë Thonë Klientët Tanë</h2>
                <p class="lead text-muted mx-auto">Dëgjoni përvojat e klientëve tanë të kënaqur me platformën dhe shërbimet tona</p>
            </div>
        </div>
        
        <div class="swiper testimonials-slider" data-aos="fade-up" data-aos-delay="200">
            <div class="swiper-wrapper pb-5">
                <div class="swiper-slide">
                    <div class="testimonial-card bg-white rounded-4 shadow-sm p-5 position-relative">
                        <div class="quote-icon position-absolute text-success opacity-10" style="top: 20px; right: 20px; font-size: 5rem;">
                            <i class="fas fa-quote-right"></i>
                        </div>
                        <div class="d-flex mb-4">
                            <div class="text-warning">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>
                        <p class="testimonial-text mb-5 lead">"Kjo platformë e ka ndryshuar plotësisht mënyrën se si unë bëj pazar. Produktet janë gjithmonë të freskëta, çmimet janë të drejta, dhe ndihem mirë duke ditur se po mbështes fermerët vendas."</p>
                        <div class="d-flex align-items-center">
<img src="{% static 'media/products/testimonial1.jpg' %}" alt="Andi Duro" class="rounded-circle me-4" style="width: 70px; height: 70px; object-fit: cover;">
                            <div>
                                <h5 class="fw-bold mb-1">Andi Duro</h5>
                                <p class="text-muted mb-0">Tiranë, Blerës i Rregullt</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="swiper-slide">
                    <div class="testimonial-card bg-white rounded-4 shadow-sm p-5 position-relative">
                        <div class="quote-icon position-absolute text-success opacity-10" style="top: 20px; right: 20px; font-size: 5rem;">
                            <i class="fas fa-quote-right"></i>
                        </div>
                        <div class="d-flex mb-4">
                            <div class="text-warning">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star-half-alt"></i>
                            </div>
                        </div>
                        <p class="testimonial-text mb-5 lead">"Si fermer, kjo platformë më ka ndihmuar të zgjeroj biznesin tim dhe të arrij klientë që kurrë nuk do të mund t'i takoja ndryshe. Procesi është i thjeshtë dhe pagesat janë gjithmonë të sakta."</p>
                        <div class="d-flex align-items-center">
<img src="{% static 'media/products/testimonial2.jpg' %}" alt="Elona Hyseni" class="rounded-circle me-4" style="width: 70px; height: 70px; object-fit: cover;">
                            <div>
                                <h5 class="fw-bold mb-1">Elona Hyseni</h5>
                                <p class="text-muted mb-0">Korçë, Fermere</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="swiper-slide">
                    <div class="testimonial-card bg-white rounded-4 shadow-sm p-5 position-relative">
                        <div class="quote-icon position-absolute text-success opacity-10" style="top: 20px; right: 20px; font-size: 5rem;">
                            <i class="fas fa-quote-right"></i>
                        </div>
                        <div class="d-flex mb-4">
                            <div class="text-warning">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>
                        <p class="testimonial-text mb-5 lead">"Jam kujdestar i një restoranti të vogël dhe blej të gjitha perimet dhe frutat nga kjo platformë. Cilësia e produkteve ka përmirësuar shijen e gatimeve tona dhe klientët tanë e vërejnë ndryshimin!"</p>
                        <div class="d-flex align-items-center">
<img src="{% static 'media/products/testimonial3.jpg' %}" alt="Dritan Brahimaj" class="rounded-circle me-4" style="width: 70px; height: 70px; object-fit: cover;">
                            <div>
                                <h5 class="fw-bold mb-1">Dritan Brahimaj</h5>
                                <p class="text-muted mb-0">Vlorë, Pronar Restoranti</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="swiper-pagination"></div>
        </div>
    </div>
</section>

<!-- Farmer Spotlight (Seksion i ri) -->
<section class="farmer-spotlight py-5 overflow-hidden">
    <div class="container py-5">
        <div class="row mb-5">
            <div class="col-lg-6 mx-auto text-center" data-aos="fade-up">
                <span class="badge text-white px-3 py-2 mb-3" style="background: var(--primary-gradient); border-radius: 30px;">
                    <i class="fas fa-tractor me-1"></i> Fermerët tanë
                </span>
                <h2 class="display-4 fw-bold font-heading mb-3">Takoni Prodhuesit</h2>
                <p class="lead text-muted mx-auto">Zbuloni fermerët tanë të përkushtuar që punojnë me pasion për të sjellë produktet më të mira</p>
            </div>
        </div>
        
        <div class="row align-items-center" data-aos="fade-up" data-aos-delay="200">
            <div class="col-lg-6 mb-4 mb-lg-0">
                <div class="farmer-image position-relative rounded-4 overflow-hidden shadow-lg" style="height: 500px;">
<img src="{% static 'media/products/farmer-hero.jpg' %}" alt="Familja Fermere" class="w-100 h-100" style="object-fit: cover;">
                    <div class="farmer-overlay position-absolute top-0 start-0 w-100 h-100" style="background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 50%);"></div>
                    <div class="farmer-caption position-absolute bottom-0 start-0 p-4 text-white">
                        <h4 class="fw-bold mb-2">Familja Marku</h4>
                        <p class="mb-0">Bujqësi organike që nga viti 1995 • Divjakë</p>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6 ps-lg-5">
                <h3 class="display-6 fw-bold font-heading mb-4">Një Histori Pasioni dhe Përkushtimi</h3>
                <p class="lead mb-4">Familja Marku kultivon produkte organike në tokën e tyre prej 3 hektarësh në Divjakë për më shumë se 25 vjet, duke përdorur vetëm metoda tradicionale bujqësore.</p>
                
                <div class="farmer-specialties mb-4">
                    <h5 class="fw-bold mb-3">Specializimi:</h5>
                    <div class="d-flex flex-wrap gap-2">
                        <span class="badge bg-success-subtle text-success px-3 py-2 rounded-pill">Domate Organike</span>
                        <span class="badge bg-success-subtle text-success px-3 py-2 rounded-pill">Speca të Ndryshëm</span>
                        <span class="badge bg-success-subtle text-success px-3 py-2 rounded-pill">Qepë dhe Hudhër</span>
                        <span class="badge bg-success-subtle text-success px-3 py-2 rounded-pill">Bimë Aromatike</span>
                    </div>
                </div>
                
                <div class="farmer-quote p-4 rounded-4 bg-success-subtle mb-4">
                    <p class="mb-0 fst-italic">"Toka është thesari ynë më i çmuar. E trajtojmë atë me respekt dhe dashuri, dhe ajo na shpërblen me produktet më të mira."</p>
                    <p class="mb-0 text-end fw-bold mt-2">— Gëzim Marku, Kryefamiljar</p>
                </div>
                
                <a href="#" class="btn btn-outline-success rounded-pill px-4 py-2">
                    <i class="fas fa-farm me-2"></i> Vizito faqen e fermerit
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Organic Benefits (Seksion i ri) -->
<section class="organic-benefits py-5 bg-success text-white position-relative overflow-hidden">
    <div class="pattern-overlay position-absolute w-100 h-100" style="background-image: url('data:image/svg+xml,%3Csvg width=\'60\' height=\'60\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cpath d=\'M0 0h20v20H0zm20 20h20v20H20z\' fill=\'%23ffffff\' fill-opacity=\'.05\'/%3E%3C/svg%3E'); top: 0; left: 0; z-index: 0;"></div>
    
    <div class="container py-5 position-relative">
        <div class="row mb-5">
            <div class="col-lg-6 mx-auto text-center" data-aos="fade-up">
                <span class="badge bg-white text-success px-3 py-2 mb-3" style="border-radius: 30px;">
                    <i class="fas fa-seedling me-1"></i> Zgjedhja organike
                </span>
                <h2 class="display-4 fw-bold font-heading mb-3">Pse të Zgjedhni Produktet Organike?</h2>
                <p class="lead opacity-75 mx-auto">Përfitimet shëndetësore dhe mjedisore të produkteve organike të freskëta</p>
            </div>
        </div>
        
        <div class="row g-4">
            <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="100">
                <div class="benefit-card rounded-4 bg-white bg-opacity-10 p-4 h-100 transform-hover">
                    <div class="benefit-icon d-inline-flex align-items-center justify-content-center rounded-circle p-3 mb-4" style="background-color: rgba(255,255,255,0.2);">
                        <i class="fas fa-heartbeat fa-2x"></i>
                    </div>
                    <h4 class="fw-bold mb-3">Më të shëndetshme</h4>
                    <p class="mb-0 opacity-75">Produktet organike përmbajnë më shumë antioksidantë dhe lëndë ushqyese, ndërsa kanë më pak mbetje të pesticideve dhe metaleve të rënda.</p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="200">
                <div class="benefit-card rounded-4 bg-white bg-opacity-10 p-4 h-100 transform-hover">
                    <div class="benefit-icon d-inline-flex align-items-center justify-content-center rounded-circle p-3 mb-4" style="background-color: rgba(255,255,255,0.2);">
                        <i class="fas fa-globe-americas fa-2x"></i>
                    </div>
                    <h4 class="fw-bold mb-3">Më ekologjike</h4>
                    <p class="mb-0 opacity-75">Bujqësia organike promovon biodiversitetin, përmirëson cilësinë e tokës dhe redukton ndotjen e ujit dhe tokës nga kimikatet.</p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="300">
                <div class="benefit-card rounded-4 bg-white bg-opacity-10 p-4 h-100 transform-hover">
                    <div class="benefit-icon d-inline-flex align-items-center justify-content-center rounded-circle p-3 mb-4" style="background-color: rgba(255,255,255,0.2);">
                        <i class="fas fa-utensils fa-2x"></i>
                    </div>
                    <h4 class="fw-bold mb-3">Shije më e mirë</h4>
                    <p class="mb-0 opacity-75">Produktet organike shpesh kanë shije më intensive dhe më të natyrshme, pasi rriten në tokë të pasur dhe korren në pjekurinë optimale.</p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="400">
                <div class="benefit-card rounded-4 bg-white bg-opacity-10 p-4 h-100 transform-hover">
                    <div class="benefit-icon d-inline-flex align-items-center justify-content-center rounded-circle p-3 mb-4" style="background-color: rgba(255,255,255,0.2);">
                        <i class="fas fa-shield-alt fa-2x"></i>
                    </div>
                    <h4 class="fw-bold mb-3">Pa GMO</h4>
                    <p class="mb-0 opacity-75">Produktet organike janë të certifikuara se nuk përmbajnë organizma të modifikuar gjenetikisht, duke ofruar siguri shtesë për shëndetin tuaj.</p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="500">
                <div class="benefit-card rounded-4 bg-white bg-opacity-10 p-4 h-100 transform-hover">
                    <div class="benefit-icon d-inline-flex align-items-center justify-content-center rounded-circle p-3 mb-4" style="background-color: rgba(255,255,255,0.2);">
                        <i class="fas fa-hand-holding-heart fa-2x"></i>
                    </div>
                    <h4 class="fw-bold mb-3">Mbështet fermerët</h4>
                    <p class="mb-0 opacity-75">Duke blerë organike nga fermerët lokalë, ju mbështesni familjet dhe ekonominë vendase duke ndihmuar në ruajtjen e traditave bujqësore.</p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="600">
                <div class="benefit-card rounded-4 bg-white bg-opacity-10 p-4 h-100 transform-hover">
                    <div class="benefit-icon d-inline-flex align-items-center justify-content-center rounded-circle p-3 mb-4" style="background-color: rgba(255,255,255,0.2);">
                        <i class="fas fa-baby fa-2x"></i>
                    </div>
                    <h4 class="fw-bold mb-3">Më mirë për fëmijët</h4>
                    <p class="mb-0 opacity-75">Fëmijët janë veçanërisht të ndjeshëm ndaj kimikateve, kështu që produktet organike janë një zgjedhje më e sigurt për ushqimin e tyre.</p>
                </div>
            </div>
        </div>
        
        <div class="text-center mt-5" data-aos="fade-up" data-aos-delay="700">
            <a href="#" class="btn btn-light btn-lg text-success rounded-pill px-5 py-3 shadow">
                <i class="fas fa-apple-alt me-2"></i> Zbulo produktet tona organike
            </a>
        </div>
    </div>
</section>

<!-- Call to Action Inovativ -->
<section class="cta py-5 position-relative overflow-hidden">
    <div class="cta-bg position-absolute w-100 h-100" style="background: var(--primary-gradient); top: 0; left: 0; z-index: -2;"></div>
    <div class="cta-pattern position-absolute w-100 h-100" style="background-image: url('data:image/svg+xml,%3Csvg width=\'20\' height=\'20\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Ccircle cx=\'2\' cy=\'2\' r=\'2\' fill=\'%23ffffff\' fill-opacity=\'0.2\'/%3E%3C/svg%3E'); top: 0; left: 0; z-index: -1;"></div>
    
    <!-- Decorative elements -->
    <div class="decorative-item position-absolute rounded-circle" style="width: 200px; height: 200px; background: rgba(255,255,255,0.1); top: -100px; right: 10%; z-index: 0;"></div>
    <div class="decorative-item position-absolute rounded-circle" style="width: 300px; height: 300px; background: rgba(255,255,255,0.1); bottom: -150px; left: -100px; z-index: 0;"></div>
    
    <div class="container py-5 position-relative">
        <div class="row align-items-center">
            <div class="col-lg-7 mb-5 mb-lg-0 text-white" data-aos="fade-right">
                <h2 class="display-3 fw-bold font-heading mb-4">Gati për të Shijuar Shijen e Vërtetë?</h2>
                <p class="lead mb-5 opacity-75">Bashkohuni me mijëra klientë të kënaqur që kanë zbuluar tashmë freskinë dhe cilësinë e produkteve direkt nga ferma.</p>
                
                <div class="cta-features mb-5">
                    <div class="d-flex align-items-center mb-3">
                        <div class="feature-check rounded-circle bg-white text-success d-flex align-items-center justify-content-center me-3" style="width: 30px; height: 30px;">
                            <i class="fas fa-check"></i>
                        </div>
                        <p class="mb-0 opacity-75">Produkte të freskëta të dorëzuara brenda 24 orëve</p>
                    </div>
                    <div class="d-flex align-items-center mb-3">
                        <div class="feature-check rounded-circle bg-white text-success d-flex align-items-center justify-content-center me-3" style="width: 30px; height: 30px;">
                            <i class="fas fa-check"></i>
                        </div>
                        <p class="mb-0 opacity-75">Lidhje direkte me fermerët lokalë</p>
                    </div>
                    <div class="d-flex align-items-center">
                        <div class="feature-check rounded-circle bg-white text-success d-flex align-items-center justify-content-center me-3" style="width: 30px; height: 30px;">
                            <i class="fas fa-check"></i>
                        </div>
                        <p class="mb-0 opacity-75">Kthim pa pyetje nëse nuk jeni të kënaqur</p>
                    </div>
                </div>
                
                {% if not user.is_authenticated %}
                    <div class="d-flex gap-3 flex-wrap">
                        <a href="{% url 'farmer:register' %}" class="btn btn-light btn-lg px-5 py-3 rounded-pill shadow fw-bold text-success">
                            <i class="fas fa-tractor me-2"></i> Bëhu Fermer
                        </a>
                        <a href="{% url 'product:list' %}" class="btn btn-outline-light btn-lg px-5 py-3 rounded-pill">
                            <i class="fas fa-shopping-basket me-2"></i> Shfleto Produktet
                        </a>
                    </div>
                {% else %}
                    <a href="{% url 'product:list' %}" class="btn btn-light btn-lg px-5 py-3 rounded-pill shadow fw-bold text-success">
                        <i class="fas fa-shopping-basket me-2"></i> Shiko Katalogun Tani
                    </a>
                {% endif %}
            </div>
            
            <div class="col-lg-5 d-none d-lg-block" data-aos="fade-left">
                <div class="cta-image position-relative">
<img src="{% static 'media/products/fresh-basket.png' %}" alt="Shporta me produkte të freskëta" class="img-fluid rounded-4 shadow-lg">
                    <div class="position-absolute start-0 bottom-0 p-4 bg-white rounded-4 shadow-lg transform-hover" style="width: 220px; margin-left: -30px; margin-bottom: -20px;">
                        <div class="d-flex align-items-center">
                            <div class="flex-shrink-0 me-3">
<img src="{% static 'media/products/discount-icon.svg' %}" alt="Zbritje" style="width: 40px; height: 40px;">
                            </div>
                            <div>
                                <h5 class="text-success fw-bold mb-0">20% ZBRITJE</h5>
                                <p class="small text-muted mb-0">në porosinë e parë</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- JavaScript për funksionalitetin -->
<script>
    // Inicializimi i AOS (Animate on Scroll)
    document.addEventListener('DOMContentLoaded', function() {
        AOS.init({
            duration: 800,
            easing: 'ease-in-out',
            once: true
        });
        
        // Inicializimi i Swiper për produktet
        const productsSwiper = new Swiper('.products-slider', {
            slidesPerView: 1,
            spaceBetween: 20,
            loop: true,
            pagination: {
                el: '.products-slider .swiper-pagination',
                clickable: true
            },
            navigation: {
                nextEl: '.products-slider .swiper-button-next',
                prevEl: '.products-slider .swiper-button-prev'
            },
            breakpoints: {
                640: {
                    slidesPerView: 2
                },
                992: {
                    slidesPerView: 3
                }
            }
        });
        
        // Inicializimi i Swiper për testimonialet
        const testimonialsSwiper = new Swiper('.testimonials-slider', {
            slidesPerView: 1,
            spaceBetween: 30,
            loop: true,
            pagination: {
                el: '.testimonials-slider .swiper-pagination',
                clickable: true
            },
            breakpoints: {
                768: {
                    slidesPerView: 2
                }
            }
        });
        
        // Animacionet e numëratorëve në statistikat
        const counters = document.querySelectorAll('.counter');
        const speed = 200; // Sa më i ulët, aq më shpejt
        
        counters.forEach(counter => {
            const animate = () => {
                const value = +counter.getAttribute('data-target');
                const data = +counter.innerText;
                
                const time = value / speed;
                if (data < value) {
                    counter.innerText = Math.ceil(data + time);
                    setTimeout(animate, 1);
                } else {
                    counter.innerText = value;
                }
            }
            
            // Startimi i animacionit kur elementi është në pamje
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        animate();
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.5 });
            
            observer.observe(counter);
        });
        
        // Efekti hover për butonat me gradient
        document.querySelectorAll('.btn[style*="gradient"]').forEach(button => {
            button.addEventListener('mouseenter', function() {
                this.querySelector('.z-1').style.transform = 'translateX(0)';
            });
            
            button.addEventListener('mouseleave', function() {
                this.querySelector('.z-1').style.transform = 'translateX(-100%)';
            });
        });
        
        // Aktivizimi i tooltips për kartat e produkteve
        const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
        tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl);
        });
        
        // Efekti hover për kartat e produkteve
        document.querySelectorAll('.product-card').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.querySelector('.product-overlay').style.opacity = '1';
            });
            
            card.addEventListener('mouseleave', function() {
                this.querySelector('.product-overlay').style.opacity = '0';
            });
        });
        
        // Animacioni i shfaqjes për elementët
        const revealItems = document.querySelectorAll('.reveal-item');
        
        const revealObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                }
            });
        }, { threshold: 0.1 });
        
        revealItems.forEach(item => {
            revealObserver.observe(item);
        });
    });
</script>

<!-- Stilet e avancuara CSS për efektet vizuale dhe interaktivitetin -->
<style>
    /* Efekte të transformimit në hover */
    .transform-hover {
        transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), box-shadow 0.4s ease;
    }
    
    .transform-hover:hover {
        transform: translateY(-10px);
        box-shadow: var(--shadow-lg);
    }
    
    /* Stilizimi i kartelave të produkteve */
    .product-card {
        transition: var(--transition-fast);
        border-radius: var(--border-radius-lg);
    }
    
    .product-card:hover {
        box-shadow: var(--shadow-md);
    }
    
    .product-card .product-image-wrapper img:hover {
        transform: scale(1.05);
    }
    
    /* Animacioni i qarqeve në hero */
    @keyframes pulse {
        0% {
            transform: scale(1);
            opacity: 0.8;
        }
        50% {
            transform: scale(1.05);
            opacity: 0.6;
        }
        100% {
            transform: scale(1);
            opacity: 0.8;
        }
    }
    
    /* Stilizimi i timeline në How It Works */
    @media (min-width: 992px) {
        .timeline-connector {
            display: block !important;
        }
    }
    
    /* Stilizimi për swiper */
    .swiper-pagination-bullet {
        width: 10px;
        height: 10px;
        background-color: var(--primary-color);
        opacity: 0.5;
    }
    
    .swiper-pagination-bullet-active {
        opacity: 1;
        width: 14px;
        height: 14px;
    }
    
    .swiper-button-next,
    .swiper-button-prev {
        color: var(--primary-color);
    }
    
    /* Stil për kartat e benefiteve */
    .benefit-card {
        transition: var(--transition-fast);
        border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .benefit-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        background-color: rgba(255, 255, 255, 0.15);
    }
    
    /* Stile shtesë për butona */
    .btn {
        transition: all 0.3s ease;
    }
    
    .btn:hover {
        transform: translateY(-2px);
    }
    
    /* Stili për cardat e statistikave */
    .stat-card {
        transition: all 0.3s ease;
    }
    
    .stat-card:hover {
        transform: translateY(-5px);
        box-shadow: var(--shadow-md);
    }
    
    /* Stile për imazhet në hero */
    .hero img {
        transition: transform 1s ease-in-out;
    }
    
    .hero:hover img {
        transform: scale(1.02);
    }
    
    /* Stile për tipografinë në hero */
    .hero h1 {
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    }
    
    /* Përmirësimi i paddings */
    .py-6 {
        padding-top: 6rem;
        padding-bottom: 6rem;
    }
    
    /* Rregullimi i profilit të butonëve */
    .btn-success, .btn-outline-success {
        border-radius: var(--border-radius-lg);
    }
    
    /* Sfondi i badges */
    .bg-success-subtle {
        background-color: rgba(25, 135, 84, 0.1);
    }
    
    /* Z-index utilities */
    .z-1 { z-index: 1; }
    .z-2 { z-index: 2; }
    
    /* Opacity utilities */
    .opacity-10 { opacity: 0.1; }
    
    /* Efekti i tekstit të zbehur */
    @keyframes textAppear {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    .hero p {
        animation: textAppear 1s ease-out 0.5s forwards;
    }
</style>
{% endblock %}
